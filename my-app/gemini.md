# 프로젝트 개발 가이드

이 문서는 재봉 공장 ERP 프로그램 개발을 위한 기준과 합의된 사항을 정리합니다. 프로젝트 참여자는 이 문서를 기준으로 개발을 진행합니다.

## 1. 프로젝트 개요

- **프로젝트명**: 재봉 공장 ERP 시스템
- **목표**: 재봉 공장의 생산, 인사, 재고 등 전반적인 업무를 관리하는 ERP 프로그램을 개발합니다.
- **주요 소통 언어**: 한국어

## 2. 기술 스택 (Tech Stack)

- **주요 언어**: TypeScript
- **프레임워크**: React (Vite 기반)
- **UI 라이브러리**: MUI (Material-UI)
- **라우팅**: React Router
- **스타일링**: Emotion (`sx` prop) / MUI

## 3. 프로젝트 구조

- `src/`: 소스 코드 루트 디렉토리입니다.
- `src/pages/`: 각 페이지(화면)에 해당하는 컴포넌트를 위치시킵니다. (예: `Login.jsx`, `Factory.jsx`)
- `src/components/`: 여러 페이지에서 재사용되는 공통 컴포넌트를 위치시킵니다.
- `src/layouts/`: 페이지의 전체적인 Layout을 정의하는 컴포넌트를 위치시킵니다.
- `src/context/`: 전역 상태 관리를 위한 React Context를 위치시킵니다.
- `src/theme/`: MUI 테마 커스터마이징 관련 코드를 위치시킵니다.
- `src/router.jsx`: 애플리케이션의 라우팅 설정을 정의합니다.

## 4. 개발 컨벤션 및 규칙

*이 섹션은 프로젝트 진행에 따라 지속적으로 업데이트됩니다.*

### 4.1. UI 개발 및 스타일링
- **UI 라이브러리**: 모든 UI 컴포넌트는 MUI를 우선적으로 사용하여 구현합니다.
- **스타일링**: MUI 컴포넌트의 `sx` prop을 사용하여 스타일을 적용하는 것을 기본으로 합니다. 전역적으로 필요한 스타일이나 복잡한 스타일은 별도의 CSS 파일로 관리할 수 있으나, 컴포넌트 단위의 스타일링은 `sx` prop 사용을 권장합니다.
- **컨테이너 스타일**: 콘텐츠를 감싸는 컨테이너(예: `Paper`)는 그림자(`elevation`) 사용을 지양하고, 대신 외곽선(`variant="outlined"`)을 사용하여 평평하고 인더스트리얼한 디자인 통일성을 유지합니다. 이는 애플리케이션에 보다 깔끔하고 전문적인 느낌을 부여합니다.

  **적용 예시:**
  ```jsx
  // 지양 (Avoid)
  <Paper elevation={3} sx={{ p: 2 }}>
    ...콘텐츠...
  </Paper>

  // 권장 (Recommended)
  <Paper variant="outlined" sx={{ p: 2 }}>
    ...콘텐츠...
  </Paper>
  ```

### 4.2. 상태 관리
- 간단한 상태는 컴포넌트 내부의 `useState`를 사용하고, 여러 컴포넌트에 걸쳐 사용되는 전역 상태는 `Context API`를 활용합니다.

### 4.3. 파일 및 컴포넌트 명명
- 컴포넌트 파일명은 `PascalCase`를 따릅니다. (예: `MyComponent.jsx`)
- 일반적인 함수나 변수는 `camelCase`를 따릅니다.

### 4.4. API 연동
- API 요청 및 데이터 처리에 대한 규칙은 추후 정의합니다.

### 4.5. 코드 스타일
- 프로젝트에 설정된 Prettier와 ESLint 규칙을 따릅니다. (설정 필요)

### 4.6. 전역 스타일 관리
애플리케이션의 전역 CSS 스타일은 `src/styles/` 디렉토리 내에서 기능별로 분리된 파일들로 관리됩니다. 이 파일들은 `src/index.jsx`에서 임포트되어 전역적으로 적용됩니다.

- **`base.css`**: 애플리케이션 전반의 기본 스타일을 정의합니다. (예: `body`, `html` 태그 스타일, 기본 폰트 설정 등)
- **`theme.css`**: 색상, 폰트 크기, 그림자 등 디자인 시스템의 테마와 관련된 변수나 클래스를 정의합니다.
- **`layout.css`**: 주요 레이아웃 구조(예: 헤더, 사이드바, 컨텐츠 영역)와 관련된 스타일을 정의합니다.
- **`table.css`**: 테이블 컴포넌트의 공통 스타일을 정의합니다.
- **`form.css`**: 입력 필드, 버튼 등 폼(Form) 요소들의 공통 스타일을 정의합니다.

## 5. 주요 개념 및 용어 정의

*이 섹션은 프로젝트의 주요 도메인 개념을 정의합니다.*

- **역할 (Role)**: 사용자의 역할과 책임을 나타내는 개념입니다. (예: 관리자, 작업자)

## 6. 메뉴 구조 (Menu Structure)

*이 섹션은 좌측 네비게이션 메뉴의 구조를 정의합니다.*

- **속성 관리 (Attribute Management)**
  - 역할 관리 (Role Management)
  - 권한 관리 (Permission Management)
- **조직 관리 (Organization Management)**
  - 회사 정보 (Company Info)
  - 공장 정보 (Factory Info)
  - 직원 관리 (Employee Management)
- **주문 관리 (Order Management)**
  - 고객 관리 (Customer Management)
  - 스타일 관리 (Style Management)
- **생산 관리 (Production Management)**
  - 생산 현황 (Production Status)
  - 작업 기록 (Work History)
- **시스템 설정 (System Settings)**

* (이 구조는 현재까지의 페이지를 바탕으로 추정되었으며, 변경될 수 있습니다.)

## 7. 프론트엔드 구조 규칙 (Frontend Architecture Rules)

일관성 있는 개발을 위해 다음 구조 규칙을 모든 도메인에 적용합니다.

1.  **라우트와 화면의 분리**: `src/pages`는 라우팅 진입점 전용입니다. 실제 UI와 로직을 담은 화면(예: `StyleList.jsx`, `StyleDetail.jsx`)은 `src/pages/App/{도메인명}/` 폴더에서 관리합니다.

2.  **List/Detail 패턴**: 모든 도메인은 목록(`List`)과 상세(`Detail`) 화면으로 구성됩니다.
    -   **`List`**: 목록 표시, 검색, `Detail` 화면으로 네비게이션 역할만 수행합니다.
    -   **`Detail`**: 단일 데이터의 생성/수정 세션을 관리하며, 하위 탭들의 저장 로직을 총괄합니다.
    -   `List`와 `Detail`은 ID로만 데이터를 주고받으며, 상태를 직접 공유하지 않습니다.

3.  **단순성 유지**: 명확한 필요 전까지 과도한 추상화(조기 컴포넌트 분리 등)를 지양하고, 가독성과 실용성을 우선합니다. 리팩토링 시에는 기능 변경 없이 구조 개선에만 집중합니다.

## 8. 애플리케이션 핵심 로직 (Core Application Logic)

이 섹션은 애플리케이션의 핵심 비즈니스 로직과 데이터 흐름을 정의합니다.

### 8.1. 조직 및 사용자 구조 (Organization & User Structure)

1.  **법인 (Corporation)**: 시스템의 최상위 단위입니다. (예: `바루 가먼트`)
2.  **공장 (Factory)**: 특정 법인에 소속된 생산 단위입니다. (예: `하노이 공장`) 모든 직원은 공장에 소속됩니다.
3.  **직원 (Employee)**: 특정 공장에 소속된 사용자입니다. 각 직원은 시스템 내에서 정의된 역할(Role)을 가집니다.

### 8.2. 고객 및 스타일 관리 (Customer & Style Management)

1.  **고객사 (Customer)**: 제품 생산을 의뢰하는 회사입니다. (예: `더산`)
2.  **스타일 (Style)**: 특정 고객사에 속한 의류 모델입니다. 하나의 스타일에는 여러 생산 공정이 포함됩니다.
3.  **공정 (Process)**: 스타일을 생산하기 위한 개별 작업 단계입니다.

### 8.3. 공정 및 공임 산정 (Process & Wage Calculation)

- 각 **공정(Process)**은 아래 3가지의 시간 값을 가집니다.
    -   **PT (Provisional Time):** 임시 표준 시간. 데이터가 없는 초기 단계에서 관리자가 설정하는 임시 기준 시간입니다.
    -   **AT (Actual Time):** 실제 평균 시간. 직원들의 실제 작업 기록(Work History)을 바탕으로 시스템이 자동 계산하는 평균 시간입니다.
    -   **ST (Standard Time):** 표준 시간. AT 데이터가 충분히 축적된 후, 시스템이 산출하여 확정하는 표준 시간입니다. 급여 계산 및 공장 간 생산성 비교의 기준이 됩니다.

- 각 **공장(Factory)**은 PT, AT, ST 중 어떤 값을 소속 직원들의 공임(급여) 계산 기준으로 사용할지 정책적으로 선택할 수 있습니다.

- 급여는 아래 방식으로 산정됩니다.
    -   `개별 작업 급여 = (공장에서 선택한 기준 시간) * (공장의 시간당 공임)`

### 8.4. 생산 기록 (Production Logging)

- **작업 기록 (Work History)**: 직원들이 매일 수행한 작업 내역을 기록하는 데이터입니다. 이 기록은 `AT`를 계산하고 생산성을 추적하는 기반이 됩니다.

---
*이 문서는 Gemini AI 에이전트에 의해 관리됩니다. 사용자의 요청에 따라 내용이 업데이트될 수 있습니다.*
