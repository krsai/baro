# 스타일 상세 페이지: API 설계 가이드

이 문서는 스타일 상세 페이지의 프런트엔드 동작 방식과 백엔드 API 설계에 필요한 정보를 제공합니다.

## 1. 핵심 데이터 흐름

프런트엔드에서는 `Style` 목록 페이지에서 특정 항목을 선택하면, 해당 항목의 `id` 값을 URL 파라미터에 담아 스타일 상세 페이지로 이동합니다.

-   **FE 라우팅 경로:** `/style/:styleId`
-   **예시 URL:** `/style/S-001`

페이지가 로드될 때, 프런트엔드는 이 `styleId`를 사용하여 백엔드에 **단일 API 호출**을 통해 스타일의 모든 관련 데이터를 요청합니다.

## 2. API 엔드포인트 요구사항

-   **Method:** `GET`
-   **Endpoint:** `/api/styles/{styleId}`
-   **설명:** `styleId`에 해당하는 스타일의 모든 정보를 반환합니다. 이 정보에는 **기본 정보, 공정 정보, BOM(자재 명세서) 정보가 모두 포함**되어야 합니다.

### API 응답 JSON 구조 예시

하나의 `style` 객체 안에 기본 정보 필드들과 함께, `processes`(공정 목록)와 `bom`(자재 목록)이 배열 형태로 내장(nested)되어 있는 구조를 권장합니다.

```json
{
  "id": "S-001",
  "name": "클래식 데님 자켓",
  "customer": "A고객사",
  "registrationDate": "2026-01-15",
  "designer": "김디자이너",
  "collection": "2026 F/W",
  "season": "가을",
  "processes": [
    {
      "id": "P-001",
      "name": "주머니 달기",
      "smv": 10,
      "etd": 12
    },
    {
      "id": "P-002",
      "name": "지퍼 달기",
      "smv": 15,
      "etd": 15
    }
  ],
  "bom": [
    {
      "id": "B-001",
      "material": "데님 원단",
      "supplier": "원단나라",
      "consumption": 2.5,
      "unit": "yard"
    },
    {
      "id": "B-002",
      "material": "YKK 지퍼",
      "supplier": "지퍼월드",
      "consumption": 1,
      "unit": "개"
    }
  ],
  "notes": "워싱 처리가 중요합니다."
}
```

---

## 3. 세부 섹션 정보

### 3.1. 기본 정보 (Basic Info)

스타일의 기본 마스터 데이터입니다.

| 필드               | 설명           | 예시               |
| ------------------ | -------------- | ------------------ |
| `id`               | 스타일 고유 ID   | `S-001`            |
| `name`             | 스타일 이름    | "클래식 데님 자켓" |
| `customer`         | 고객사         | "A고객사"          |
| `registrationDate` | 등록일         | "2026-01-15"       |
| `designer`         | 디자이너       | "김디자이너"       |
| `collection`       | 컬렉션         | "2026 F/W"         |
| `season`           | 시즌           | "가을"             |
| `notes`            | 기타 참고사항  | "워싱 처리가..."   |

### 3.2. 공정 정보 (Style Process)

해당 스타일을 생산하는 데 필요한 공정 목록입니다.

| 필드   | 설명                       | 예시        |
| ------ | -------------------------- | ----------- |
| `id`   | 공정 고유 ID               | `P-001`     |
| `name` | 공정 이름                  | "주머니 달기" |
| `smv`  | 표준 공정 시간 (초)        | 10          |
| `etd`  | 산출 공정 시간 (초)        | 12          |

-   **향후 개발 계획:** 생산 관리 시스템과의 연동을 통해 실제 작업 시간을 수집하고, 이를 바탕으로 산출 공정 시간(ETD)을 자동으로 계산하고 업데이트하는 기능을 구현할 예정입니다.

### 3.3. BOM (Bill of Materials)

해당 스타일 생산에 필요한 원부자재를 설정하는 자재 명세서입니다.

| 필드          | 설명         | 예시         |
| ------------- | ------------ | ------------ |
| `id`          | 자재 고유 ID | `B-001`      |
| `material`    | 자재명       | "데님 원단"  |
| `supplier`    | 공급처       | "원단나라"   |
| `consumption` | 단위당 소요량| 2.5          |
| `unit`        | 단위         | "yard"       |

-   **향후 개발 계획:** 현재는 스타일에 종속된 자재 목록이지만, 추후 '원부자재 마스터 등록 및 관리' 기능이 개발되면 해당 마스터 데이터와 연동될 예정입니다. 이를 통해 원부자재의 재고 관리 및 발주 시스템의 기초 데이터로 활용됩니다.